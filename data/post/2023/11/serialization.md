---
title: '직렬화와 역직렬화'
summary: redux에서 만난 serialization을 nextjs에서 또 만났다.
date: '2023-11-13'
draft: true
tags: []
images: []
---

# 들어가며

redux를 처음 공부할 때 serialization과 관련된 에러를 몇 번 본 적이 있다. 그당시에 온전한 객체 형태를 전달하면 된다는 것만 알고 넘어가고, 직렬화가 무엇인지, non-serializable value는 또 어떤 걸 의미하는지 제대로 공부하지 못했다. 그러던 중 최근에 nextjs 문서에서도 직렬화 관련 문장을 발견하게 되었다.

어렴풋이 알고만 넘어갔던 게 걸려서 이참에 직렬화가 무엇인지, 또 여러 모듈에서 왜 non-serializable value는 사용하면 안 되는지 짚어보고자 한다.

<br/>

# 직렬화

위키백과에서는 직렬화를 이렇게 설명하고 있다.

> 데이터 스토리지 문맥에서 데이터 구조나 오브젝트 상태를 동일하거나 다른 컴퓨터 환경에 저장하고 나중에 재구성할 수 있는 포맷으로 변환하는 과정을 뜻한다. 오브젝트를 직렬화하는 과정은 `마샬링`한다고도 하며, 반대로 일련의 바이트로부터 데이터 구조를 추출하는 일은 역직렬화 또는 디시리얼라이제이션(deserialization)이라고 한다.

<br/>

위키에 있는 설명만 봐서는 아직 직렬화가 정확히 어떤 걸 의미하는지, 왜 하는지 이해가 잘 되지 않았다.. 🫠 그래서 여기저기 찾아 보다가 okky에서 무려 10년은 더 된 직렬화 관련 글을 찾게 되었다. 해당 글의 댓글 중 Jason Wang님의 댓글을 보면 직렬화가 무엇인지, 그리고 왜 하는지가 자세하게 설명되어 있다. Jason Wang님은 직렬화에 대해서 이렇게 설명하고 있다.

- 직렬화: 전송/저장 가능한 데이터를 만드는 행위
- 직렬화 목적: 일반적으로 파일 저장이나, 패킷 전송 시에 '파싱할 수 있는 데이터'를 만들기 위해 사용

추가적으로 내가 이해한 바를 나만의 언어로 풀어서 설명하자면, **특정한 정보를 물리적으로 각기 다른 환경을 가진 여러 곳에서 사용할 때 같은 정보를 바라볼 수 있도록 처리하는 것** 이다.

<br/>

<p align="center">
  <img src="https://hazelcast.com/wp-content/uploads/2021/12/serialization-deserialization-diagram-800x318-1.png" alt="직렬화" />
</p>

<br/>

# 왜 직렬화가 필요할까?

Javscript에서의 대표적인 예시로는 브라우저에서 서버로 요청을 보낼 때 데이터를 같이 실어보내는 경우가 있다. 나는 프로그래밍을 공부하면서 ajax를 사용한 일이 거의 없었고, 대부분의 프로젝트에서는 axios를 사용했다. 그래서 request body에 데이터를 담아야 하는 경우 어떠한 처리도 없이 javascript상의 데이터 형태 그대로 담고는 했다. 그런데 axios의 공식문서를 보면 이런 설명이 있다.

<br/>

<p align="center">
  <img src="https://github.com/zubetcha/zulog/assets/91620721/4a6108f5-93d9-4a07-8022-17d6a5793390" width="70%">
</p>

여기서 주목해야 할 부분은 **JSON 데이터 자동 변환** 이다.

### ref.

참고
[OKKY - 직렬화 하는 이유가?](https://okky.kr/questions/224715)
